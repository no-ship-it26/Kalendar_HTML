<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meniny</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  :root {
    --bg-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --text-primary: #ffffff;
    --text-secondary: #f0f0f0;
    --card-bg: rgba(255, 255, 255, 0.98);
    --card-text: #1e293b;
    --card-text-secondary: #64748b;
    --border-color: rgba(200, 200, 200, 0.3);
    --button-bg: rgba(79, 172, 254, 0.3);
    --button-border: rgba(79, 172, 254, 0.5);
  }
  
  /* TMAV√ù RE≈ΩIM */
  @media (prefers-color-scheme: dark) {
    :root {
      --bg-primary: linear-gradient(135deg, #0f0f1e 0%, #1a1a3e 100%);
      --text-primary: #f1f5f9;
      --text-secondary: #cbd5e1;
      --card-bg: rgba(30, 41, 59, 0.95);
      --card-text: #f1f5f9;
      --card-text-secondary: #94a3b8;
      --border-color: rgba(148, 163, 184, 0.15);
      --button-bg: rgba(79, 172, 254, 0.2);
      --button-border: rgba(79, 172, 254, 0.4);
    }
  }
  
  body {
    background: var(--bg-primary);
    color: var(--text-primary);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    padding: 15px;
  }
  
  .container {
    max-width: 1400px;
    margin: 0 auto;
  }
  
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 15px;
  }
  
  h1 {
    font-size: 32px;
    font-weight: 700;
    color: white;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  }
  
  .controls {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
  }
  
  select, input[type="number"], input[type="text"] {
    padding: 10px 14px;
    border: 2px solid var(--border-color);
    border-radius: 6px;
    background: var(--card-bg);
    color: var(--card-text);
    font-size: 14px;
    cursor: pointer;
  }
  
  select:focus, input[type="number"]:focus, input[type="text"]:focus {
    outline: none;
    border-color: #4facfe;
  }
  
  select::placeholder, input::placeholder {
    color: var(--card-text-secondary);
  }
  
  button {
    padding: 10px 18px;
    border: 2px solid var(--button-border);
    border-radius: 6px;
    background: var(--button-bg);
    color: var(--card-text);
    font-weight: 600;
    cursor: pointer;
    font-size: 14px;
  }
  
  button:active {
    background: rgba(79, 172, 254, 0.5);
  }
  
  .search-container {
    width: 100%;
    margin: 15px 0;
  }
  
  .search-input {
    width: 100%;
    padding: 12px 16px;
    font-size: 15px;
    border: 2px solid var(--border-color);
    border-radius: 6px;
    background: var(--card-bg);
    color: var(--card-text);
  }
  
  .search-input::placeholder {
    color: var(--card-text-secondary);
  }
  
  /* GRID */
  .calendar-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 18px;
    margin-top: 20px;
  }
  
  .month-grid {
    background: var(--card-bg);
    border-radius: 10px;
    padding: 18px;
    border: 2px solid var(--border-color);
  }
  
  .month-title {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 14px;
    color: var(--card-text);
  }
  
  .weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 5px;
    margin-bottom: 8px;
  }
  
  .weekday {
    text-align: center;
    font-weight: 700;
    font-size: 13px;
    color: var(--card-text-secondary);
    padding: 6px 0;
  }
  
  .days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 5px;
  }
  
  .day {
    min-height: 90px;
    padding: 8px;
    border-radius: 5px;
    border: 1px solid var(--border-color);
    background: rgba(255, 255, 255, 0.85);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    overflow: hidden;
    transition: all 0.2s ease;
  }
  
  @media (prefers-color-scheme: dark) {
    .day {
      background: rgba(30, 41, 59, 0.7);
    }
  }
  
  .day:active {
    background: rgba(79, 172, 254, 0.3);
    border-color: #4facfe;
  }
  
  .day.other-month {
    opacity: 0.2;
    cursor: default;
  }
  
  .day.today {
    border: 2px solid #4facfe;
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.3), rgba(0, 242, 254, 0.2));
  }
  
  .day-number {
    font-size: 16px;
    font-weight: 700;
    color: var(--card-text);
    margin-bottom: 4px;
    flex-shrink: 0;
  }
  
  .day-names {
    font-size: 12px;
    color: var(--card-text-secondary);
    line-height: 1.4;
    word-break: break-word;
    overflow-wrap: break-word;
  }
  
  /* LIST VIEW */
  .list-view {
    background: var(--card-bg);
    border-radius: 10px;
    padding: 18px;
    border: 2px solid var(--border-color);
    max-height: 800px;
    overflow-y: auto;
  }
  
  .list-month-section {
    margin-bottom: 20px;
  }
  
  .list-month-title {
    font-size: 16px;
    font-weight: 700;
    color: #4facfe;
    padding: 10px 0;
    border-bottom: 2px solid var(--border-color);
    margin-bottom: 12px;
  }
  
  .list-item {
    padding: 10px 12px;
    margin: 6px 0;
    background: rgba(255, 255, 255, 0.85);
    border-radius: 5px;
    border: 1px solid var(--border-color);
    cursor: pointer;
    display: flex;
    align-items: center;
    font-size: 14px;
  }
  
  @media (prefers-color-scheme: dark) {
    .list-item {
      background: rgba(30, 41, 59, 0.7);
    }
  }
  
  .list-item:active {
    background: rgba(79, 172, 254, 0.2);
    border-color: #4facfe;
  }
  
  .list-date {
    font-weight: 700;
    color: #4facfe;
    min-width: 80px;
    font-size: 14px;
  }
  
  .list-name {
    flex: 1;
    margin-left: 12px;
    font-size: 14px;
    color: var(--card-text);
  }
  
  /* MODAL */
  .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  
  .modal.active {
    display: flex;
  }
  
  .modal-content {
    background: var(--card-bg);
    border-radius: 10px;
    padding: 28px;
    max-width: 450px;
    width: 100%;
    border: 2px solid var(--border-color);
  }
  
  .modal-header {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 18px;
    color: var(--card-text);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .modal-close {
    background: none;
    border: none;
    font-size: 26px;
    cursor: pointer;
    color: var(--card-text-secondary);
    padding: 0;
    width: 26px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .modal-body {
    font-size: 16px;
    color: var(--card-text);
    line-height: 1.8;
  }
  
  .name-item {
    padding: 8px 0;
    border-bottom: 1px solid var(--border-color);
    color: var(--card-text);
  }
  
  .name-item:last-child {
    border-bottom: none;
  }
  
  .view-toggle {
    display: flex;
    gap: 8px;
  }
  
  .view-btn {
    padding: 10px 16px;
    border: 2px solid var(--button-border);
    border-radius: 6px;
    background: transparent;
    color: var(--card-text);
    font-weight: 600;
    cursor: pointer;
    font-size: 14px;
  }
  
  .view-btn.active {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.4), rgba(0, 242, 254, 0.3));
    border-color: #4facfe;
    color: var(--card-text);
  }
  
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background: #4facfe;
    border-radius: 4px;
  }
  
  /* MOBILE - do 600px */
  @media (max-width: 600px) {
    body {
      padding: 10px;
    }
    
    .header {
      flex-direction: column;
      align-items: stretch;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    h1 {
      font-size: 26px;
      margin: 0;
    }
    
    .controls {
      flex-direction: column;
      gap: 8px;
    }
    
    select, input[type="number"], input[type="text"], button {
      width: 100%;
      padding: 12px 14px;
      font-size: 15px;
    }
    
    .view-toggle {
      gap: 6px;
    }
    
    .view-btn {
      flex: 1;
      padding: 12px;
      font-size: 14px;
    }
    
    .calendar-grid {
      grid-template-columns: 1fr;
      gap: 12px;
      margin-top: 15px;
    }
    
    .month-grid {
      padding: 14px;
      border-radius: 8px;
    }
    
    .month-title {
      font-size: 18px;
      margin-bottom: 12px;
    }
    
    .weekdays {
      gap: 4px;
      margin-bottom: 8px;
    }
    
    .weekday {
      font-size: 12px;
      padding: 4px 0;
    }
    
    .days {
      gap: 4px;
    }
    
    .day {
      min-height: 60px;
      padding: 6px;
    }
    
    .day-number {
      font-size: 14px;
      margin-bottom: 0;
    }
    
    .day-names {
      display: none;
    }
    
    .list-view {
      max-height: 500px;
      padding: 14px;
    }
    
    .list-month-title {
      font-size: 14px;
      padding: 8px 0;
      margin-bottom: 10px;
    }
    
    .list-item {
      padding: 8px 10px;
      margin: 4px 0;
      font-size: 13px;
    }
    
    .list-date {
      min-width: 55px;
      font-size: 13px;
    }
    
    .list-name {
      margin-left: 10px;
      font-size: 13px;
    }
    
    .modal-content {
      padding: 24px;
    }
    
    .modal-header {
      font-size: 20px;
      margin-bottom: 14px;
    }
    
    .modal-body {
      font-size: 15px;
    }
    
    .name-item {
      padding: 6px 0;
    }
  }
  
  /* TABLET - 601px a≈æ 1000px */
  @media (min-width: 601px) and (max-width: 1000px) {
    .day {
      min-height: 85px;
      padding: 7px;
    }
    
    .day-number {
      font-size: 15px;
    }
    
    .day-names {
      font-size: 11px;
      display: block;
    }
    
    .list-item {
      font-size: 14px;
    }
    
    .modal-body {
      font-size: 15px;
    }
  }
  
  /* DESKTOP - 1001px+ */
  @media (min-width: 1001px) {
    .day {
      min-height: 110px;
      padding: 10px;
    }
    
    .day-number {
      font-size: 20px;
      margin-bottom: 6px;
    }
    
    .day-names {
      font-size: 15px;
      display: block;
      line-height: 1.5;
      font-weight: 500;
    }
    
    .modal-body {
      font-size: 18px;
    }
    
    .name-item {
      padding: 10px 0;
      font-size: 18px;
    }
  }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>üóìÔ∏è Meniny</h1>
    <div class="controls">
      <select id="monthSelect">
        <option value="">Mesiac</option>
        <option value="1">Janu√°r</option>
        <option value="2">Febru√°r</option>
        <option value="3">Marec</option>
        <option value="4">Apr√≠l</option>
        <option value="5">M√°j</option>
        <option value="6">J√∫n</option>
        <option value="7">J√∫l</option>
        <option value="8">August</option>
        <option value="9">September</option>
        <option value="10">Okt√≥ber</option>
        <option value="11">November</option>
        <option value="12">December</option>
      </select>
      
      <input type="number" id="yearSelect" min="2000" max="2100" value="2026" placeholder="Rok">
      
      <div class="view-toggle">
        <button class="view-btn active" data-view="calendar">Kalend√°r</button>
        <button class="view-btn" data-view="list">Zoznam</button>
      </div>
      
      <button id="todayBtn">Dnes</button>
    </div>
  </div>
  
  <div class="search-container">
    <input type="text" class="search-input" id="searchInput" placeholder="Hƒæada≈• meno alebo d√°tum">
  </div>
  
  <div id="calendarView" class="calendar-grid"></div>
  <div id="listView" class="list-view" style="display: none;"></div>
</div>

<div id="modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <span id="modalTitle">Meniny</span>
      <button class="modal-close" onclick="closeModal()">&times;</button>
    </div>
    <div class="modal-body" id="modalBody"></div>
  </div>
</div>

<script>
const meniny = {
  "01-01":"Nov√Ω rok, De≈à vzniku SR (Sviatok)","01-02":"Alexandra","01-03":"Daniela","01-04":"Drahoslav","01-05":"Andrea","01-06":"Ant√≥nia, Zjavenie P√°na (Traja kr√°li) (Sviatok)","01-07":"Bohuslava","01-08":"Sever√≠n","01-09":"Alexej","01-10":"D√°≈°a",
  "01-11":"Malv√≠na","01-12":"Ernest","01-13":"Rastislav","01-14":"Radovan","01-15":"Dobroslav","01-16":"Krist√≠na","01-17":"Nata≈°a","01-18":"Bohdana","01-19":"Drahom√≠ra","01-20":"Dalibor",
  "01-21":"Vincent","01-22":"Zora","01-23":"Milo≈°","01-24":"Timotej","01-25":"Gejza","01-26":"Tamara","01-27":"Bohu≈°","01-28":"Alfonz","01-29":"Ga≈°par","01-30":"Ema","01-31":"Emil",
  "02-01":"Tatiana","02-02":"Erika","02-03":"Bla≈æej","02-04":"Veronika","02-05":"Ag√°ta","02-06":"Dorota","02-07":"Vanda","02-08":"Zoja","02-09":"Zdenko","02-10":"Gabriela",
  "02-11":"Dezider","02-12":"Perla","02-13":"Arp√°d","02-14":"Valent√≠n","02-15":"Pravoslav","02-16":"Ida","02-17":"Miloslava","02-18":"Jarom√≠r","02-19":"Vlasta","02-20":"L√≠via",
  "02-21":"Eleon√≥ra","02-22":"Etela","02-23":"Roman","02-24":"Matej","02-25":"Frederik","02-26":"Viktor","02-27":"Alexander","02-28":"Zlatica","02-29":"Radom√≠r",
  "03-01":"Alb√≠n","03-02":"Ane≈æka","03-03":"Bohumil","03-04":"Kazim√≠r","03-05":"Fridrich","03-06":"Radoslav","03-07":"Tom√°≈°","03-08":"Alan, Medzin√°rodn√Ω de≈à ≈æien","03-09":"Franti≈°ka","03-10":"Branislav",
  "03-11":"Angela","03-12":"Gregor","03-13":"Vlastimil","03-14":"Matilda","03-15":"Svetlana","03-16":"Boleslav","03-17":"ƒΩubica","03-18":"Eduard","03-19":"Jozef","03-20":"V√≠≈•azoslav",
  "03-21":"Blahoslav","03-22":"Be≈àadik","03-23":"Adri√°n","03-24":"Gabriel","03-25":"Mari√°n","03-26":"Emanuel","03-27":"Alena","03-28":"So≈àa","03-29":"Miroslav","03-30":"Vieroslava","03-31":"Benjam√≠n",
  "04-01":"Hugo","04-02":"Zita","04-03":"Richard","04-04":"Izidor","04-05":"Miroslava","04-06":"Irena","04-07":"Zolt√°n","04-08":"Albert","04-09":"Milena","04-10":"Igor",
  "04-11":"J√∫lius","04-12":"Estera","04-13":"Ale≈°","04-14":"Just√≠na","04-15":"Fedor","04-16":"Dana","04-17":"Rudolf","04-18":"Val√©r","04-19":"Jela","04-20":"Marcel",
  "04-21":"Erv√≠n","04-22":"Slavom√≠r","04-23":"Vojtech","04-24":"Juraj","04-25":"Marek","04-26":"Jaroslava","04-27":"Jaroslav","04-28":"Jarmila","04-29":"Lea","04-30":"Anast√°zia",
  "05-01":"Sviatok pr√°ce (Sviatok)","05-02":"≈Ωigmund","05-03":"Galina","05-04":"Flori√°n","05-05":"Lesana","05-06":"Herm√≠na","05-07":"Monika","05-08":"Ivana, De≈à v√≠≈•azstva nad fa≈°izmom (Sviatok)","05-09":"Roland","05-10":"Vikt√≥ria",
  "05-11":"Bla≈æena","05-12":"Pankr√°c","05-13":"Serv√°c","05-14":"Bonif√°c","05-15":"≈Ωofia","05-16":"Svetoz√°r","05-17":"Gizela","05-18":"Viola","05-19":"Gertr√∫da","05-20":"Bernard",
  "05-21":"Zina","05-22":"J√∫lia","05-23":"≈Ωelm√≠ra","05-24":"Ela","05-25":"Urban","05-26":"Du≈°an","05-27":"Iveta","05-28":"Viliam","05-29":"Maxim","05-30":"Ferdinand","05-31":"Petrana",
  "06-01":"≈Ωaneta","06-02":"X√©nia","06-03":"Karol√≠na","06-04":"Lenka","06-05":"Laura","06-06":"Norbert","06-07":"R√≥bert","06-08":"Medard","06-09":"Stanislava","06-10":"Margita",
  "06-11":"Dobroslava","06-12":"Zlatko","06-13":"Anton","06-14":"Vasil","06-15":"V√≠t","06-16":"Blanka","06-17":"Adolf","06-18":"Vratislav","06-19":"Alfr√©d","06-20":"Val√©ria",
  "06-21":"Alojz","06-22":"Paul√≠na","06-23":"Sid√≥nia","06-24":"J√°n","06-25":"Tade√°≈°","06-26":"Adri√°na","06-27":"Ladislav","06-28":"Be√°ta","06-29":"Peter, Pavol","06-30":"Mel√°nia",
  "07-01":"Diana","07-02":"Berta","07-03":"Miloslav","07-04":"Prokop","07-05":"Cyril a Metod (Sviatok)","07-06":"Patrik","07-07":"Oliver","07-08":"Ivan","07-09":"Lujza","07-10":"Am√°lia",
  "07-11":"Milota","07-12":"Nina","07-13":"Margita","07-14":"Kamil","07-15":"Henrich","07-16":"Drahom√≠r","07-17":"Bohuslav","07-18":"Kamila","07-19":"Du≈°ana","07-20":"Iƒæja",
  "07-21":"Viera","07-22":"Magdal√©na","07-23":"Oƒæga","07-24":"Vladim√≠r","07-25":"Jakub","07-26":"Anna","07-27":"Bo≈æena","07-28":"Kri≈°tof","07-29":"Marta","07-30":"Libu≈°a","07-31":"Ign√°c",
  "08-01":"Bo≈æidara","08-02":"Gust√°v","08-03":"Jergu≈°","08-04":"Dominik","08-05":"Hortenzia","08-06":"Jozef√≠na","08-07":"≈†tef√°nia","08-08":"Oskar","08-09":"ƒΩubom√≠ra","08-10":"Vavrinec",
  "08-11":"Zuzana","08-12":"Darina","08-13":"ƒΩubom√≠r","08-14":"Mojm√≠r","08-15":"Nanebovzatie Panny M√°rie (Sviatok)","08-16":"Leonard","08-17":"Milica","08-18":"Elena","08-19":"L√Ωdia","08-20":"Anabela",
  "08-21":"Jana","08-22":"Tichom√≠r","08-23":"Filomena","08-24":"Bartolomej","08-25":"ƒΩudov√≠t","08-26":"Samuel","08-27":"Silvia","08-28":"August√≠n","08-29":"Nikola, Be√°ta","08-30":"Ru≈æena","08-31":"Nora",
  "09-01":"Danka, De≈à √östavy SR (Sviatok)","09-02":"Linda","09-03":"Belo","09-04":"Roz√°lia","09-05":"Reg√≠na","09-06":"Alica","09-07":"Marianna","09-08":"Miriama","09-09":"Martina","09-10":"Oleg",
  "09-11":"Bystr√≠k","09-12":"M√°ria","09-13":"Ctibor","09-14":"ƒΩudomil","09-15":"Jolana, Sedembolestn√° Panna M√°ria (Sviatok)","09-16":"ƒΩudmila","09-17":"Olympia","09-18":"Eug√©nia","09-19":"Kon≈°tant√≠n","09-20":"ƒΩuboslav",
  "09-21":"Mat√∫≈°","09-22":"M√≥ric","09-23":"Zdenka","09-24":"ƒΩubo≈°","09-25":"Vladislav","09-26":"Edita","09-27":"Cypri√°n","09-28":"V√°clav","09-29":"Michal","09-30":"Jarol√≠m",
  "10-01":"Arnold","10-02":"Levoslav","10-03":"Stela","10-04":"Franti≈°ek","10-05":"Viera","10-06":"Nat√°lia","10-07":"Eli≈°ka","10-08":"Brigita","10-09":"Dion√Ωz","10-10":"Slavom√≠ra",
  "10-11":"Valent√≠na","10-12":"Maximili√°n","10-13":"Koloman","10-14":"Boris","10-15":"Ter√©zia","10-16":"Vladim√≠ra","10-17":"Hedviga","10-18":"Luk√°≈°","10-19":"Kristi√°n","10-20":"Vendel√≠n",
  "10-21":"Ur≈°uƒæa","10-22":"Sergej","10-23":"Alojzia","10-24":"Kvetoslava","10-25":"Aurel","10-26":"Demeter","10-27":"Sab√≠na","10-28":"Dobromila, De≈à vzniku ƒåSR (Sviatok)","10-29":"Kl√°ra","10-30":"≈†imon","10-31":"Aur√©lia",
  "11-01":"Denis, Denisa, Sviatok v≈°etk√Ωch sv√§t√Ωch (Sviatok)","11-02":"Pamiatka zosnul√Ωch","11-03":"Hubert","11-04":"Karol","11-05":"Imrich","11-06":"Ren√°ta","11-07":"Ren√©","11-08":"Bohum√≠r","11-09":"Teodor","11-10":"Tibor",
  "11-11":"Martin","11-12":"Sv√§topluk","11-13":"Stanislav","11-14":"Irma","11-15":"Leopold","11-16":"Agnesa","11-17":"Klaudia, De≈à boja za slobodu a demokraciu (Sviatok)","11-18":"Eugen","11-19":"Al≈æbeta","11-20":"F√©lix",
  "11-21":"Elv√≠ra","11-22":"Cec√≠lia","11-23":"Klement","11-24":"Em√≠lia","11-25":"Katar√≠na","11-26":"Kornel","11-27":"Milan","11-28":"Henrieta","11-29":"Vratko","11-30":"Ondrej",
  "12-01":"Edmund","12-02":"Bibi√°na","12-03":"Oldrich","12-04":"Barbora","12-05":"Oto","12-06":"Mikul√°≈°","12-07":"Ambr√≥z","12-08":"Mar√≠na","12-09":"Izabela","12-10":"Rad√∫z",
  "12-11":"Hilda","12-12":"Ot√≠lia","12-13":"Lucia","12-14":"Branislava","12-15":"Ivica","12-16":"Alb√≠na","12-17":"Korn√©lia","12-18":"Sl√°va","12-19":"Judita","12-20":"Dagmara",
  "12-21":"Bohdan","12-22":"Adela","12-23":"Nade≈æda","12-24":"Adam, Eva (≈†tedr√Ω de≈à) (Sviatok)","12-25":"1. sviatok vianoƒçn√Ω (Sviatok)","12-26":"≈†tefan (2. sviatok vianoƒçn√Ω) (Sviatok), Mano","12-27":"Filom√©na","12-28":"Ivana","12-29":"Milada","12-30":"D√°vid","12-31":"Silvester"
};

const monthNames = ['Janu√°r', 'Febru√°r', 'Marec', 'Apr√≠l', 'M√°j', 'J√∫n', 'J√∫l', 'August', 'September', 'Okt√≥ber', 'November', 'December'];
const weekdayNames = ['Po', 'Ut', 'St', '≈†t', 'Pi', 'So', 'Ne'];

function removeDiacritics(str) {
  return str.normalize('NFD').replace(/[\u0300-\u036f]/g, '');
}

function getDaysInMonth(year, month) {
  return new Date(year, month, 0).getDate();
}

function getFirstDayOfMonth(year, month) {
  const day = new Date(year, month - 1, 1).getDay();
  return day === 0 ? 6 : day - 1;
}

function getNamesByDate(day, month) {
  const key = `${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
  return meniny[key] || '';
}

function renderCalendar() {
  const year = parseInt(document.getElementById('yearSelect').value);
  const month = parseInt(document.getElementById('monthSelect').value);
  const calendarView = document.getElementById('calendarView');
  calendarView.innerHTML = '';
  
  const months = month ? [month] : Array.from({length: 12}, (_, i) => i + 1);
  
  months.forEach(m => {
    const daysInMonth = getDaysInMonth(year, m);
    const firstDay = getFirstDayOfMonth(year, m);
    
    const monthGrid = document.createElement('div');
    monthGrid.className = 'month-grid';
    
    const title = document.createElement('div');
    title.className = 'month-title';
    title.textContent = `${monthNames[m - 1]} ${year}`;
    monthGrid.appendChild(title);
    
    const weekdays = document.createElement('div');
    weekdays.className = 'weekdays';
    weekdayNames.forEach(day => {
      const weekday = document.createElement('div');
      weekday.className = 'weekday';
      weekday.textContent = day;
      weekdays.appendChild(weekday);
    });
    monthGrid.appendChild(weekdays);
    
    const daysContainer = document.createElement('div');
    daysContainer.className = 'days';
    
    for (let i = 0; i < firstDay; i++) {
      const emptyDay = document.createElement('div');
      emptyDay.className = 'day other-month';
      daysContainer.appendChild(emptyDay);
    }
    
    for (let day = 1; day <= daysInMonth; day++) {
      const dayEl = document.createElement('div');
      dayEl.className = 'day';
      
      const today = new Date();
      if (day === today.getDate() && m === today.getMonth() + 1 && year === today.getFullYear()) {
        dayEl.classList.add('today');
      }
      
      const names = getNamesByDate(day, m);
      
      const dayNumber = document.createElement('div');
      dayNumber.className = 'day-number';
      dayNumber.textContent = day;
      dayEl.appendChild(dayNumber);
      
      const dayNames = document.createElement('div');
      dayNames.className = 'day-names';
      dayNames.textContent = names;
      dayEl.appendChild(dayNames);
      
      dayEl.addEventListener('click', () => {
        showModal(day, m, year, names);
      });
      
      daysContainer.appendChild(dayEl);
    }
    
    monthGrid.appendChild(daysContainer);
    calendarView.appendChild(monthGrid);
  });
}

function renderListView() {
  const year = parseInt(document.getElementById('yearSelect').value);
  const month = parseInt(document.getElementById('monthSelect').value);
  const listView = document.getElementById('listView');
  listView.innerHTML = '';
  
  const months = month ? [month] : Array.from({length: 12}, (_, i) => i + 1);
  
  months.forEach(m => {
    const daysInMonth = getDaysInMonth(year, m);
    const items = [];
    
    for (let day = 1; day <= daysInMonth; day++) {
      const names = getNamesByDate(day, m);
      if (names) {
        items.push({ month: m, day: day, names: names, year: year });
      }
    }
    
    if (items.length > 0) {
      const monthSection = document.createElement('div');
      monthSection.className = 'list-month-section';
      
      const monthTitle = document.createElement('div');
      monthTitle.className = 'list-month-title';
      monthTitle.textContent = monthNames[m - 1];
      monthSection.appendChild(monthTitle);
      
      items.forEach(item => {
        const listItem = document.createElement('div');
        listItem.className = 'list-item';
        const displayDate = `${item.day}. ${monthNames[item.month - 1]}`;
        listItem.innerHTML = `
          <span class="list-date">${displayDate}</span>
          <span class="list-name">${item.names}</span>
        `;
        listItem.addEventListener('click', () => {
          showModal(item.day, item.month, item.year, item.names);
        });
        monthSection.appendChild(listItem);
      });
      
      listView.appendChild(monthSection);
    }
  });
}

function searchNames(query) {
  const year = parseInt(document.getElementById('yearSelect').value);
  const allNames = [];
  const queryNormalized = removeDiacritics(query).toLowerCase().trim();
  
  for (let m = 1; m <= 12; m++) {
    const daysInMonth = getDaysInMonth(year, m);
    for (let day = 1; day <= daysInMonth; day++) {
      const names = getNamesByDate(day, m);
      if (names) {
        allNames.push({ month: m, day: day, names: names });
      }
    }
  }
  
  return allNames.filter(item => {
    const namesNormalized = removeDiacritics(item.names).toLowerCase();
    const nameMatch = namesNormalized.includes(queryNormalized);
    const dateStr = `${item.day}.${item.month}`;
    const dateMatch = dateStr.includes(queryNormalized);
    return nameMatch || dateMatch;
  });
}

function performSearch() {
  const query = document.getElementById('searchInput').value;
  const listView = document.getElementById('listView');
  const calendarView = document.getElementById('calendarView');
  
  if (!query.trim()) {
    calendarView.style.display = 'grid';
    listView.style.display = 'none';
    document.querySelector('[data-view="calendar"]').classList.add('active');
    document.querySelector('[data-view="list"]').classList.remove('active');
    renderCalendar();
    return;
  }
  
  const results = searchNames(query);
  listView.innerHTML = '';
  
  if (results.length === 0) {
    listView.innerHTML = '<div style="padding: 20px; text-align: center; color: var(--card-text-secondary); font-size: 15px;">≈Ωiadne v√Ωsledky</div>';
  } else {
    results.sort((a, b) => {
      if (a.month !== b.month) return a.month - b.month;
      return a.day - b.day;
    });
    
    results.forEach(item => {
      const listItem = document.createElement('div');
      listItem.className = 'list-item';
      const year = parseInt(document.getElementById('yearSelect').value);
      const displayDate = `${item.day}. ${monthNames[item.month - 1]}`;
      listItem.innerHTML = `
        <span class="list-date">${displayDate}</span>
        <span class="list-name">${item.names}</span>
      `;
      listItem.addEventListener('click', () => {
        showModal(item.day, item.month, year, item.names);
      });
      listView.appendChild(listItem);
    });
  }
  
  calendarView.style.display = 'none';
  listView.style.display = 'block';
  document.querySelector('[data-view="list"]').classList.add('active');
  document.querySelector('[data-view="calendar"]').classList.remove('active');
}

function showModal(day, month, year, names) {
  document.getElementById('modalTitle').textContent = `${day}. ${monthNames[month - 1]} ${year}`;
  const modalBody = document.getElementById('modalBody');
  modalBody.innerHTML = '';
  
  if (names) {
    const nameItem = document.createElement('div');
    nameItem.className = 'name-item';
    nameItem.textContent = names;
    modalBody.appendChild(nameItem);
  } else {
    modalBody.innerHTML = '<div class="name-item">≈Ωiadne meniny</div>';
  }
  
  document.getElementById('modal').classList.add('active');
}

function closeModal() {
  document.getElementById('modal').classList.remove('active');
}

document.getElementById('monthSelect').addEventListener('change', () => {
  document.getElementById('searchInput').value = '';
  renderCalendar();
  renderListView();
});

document.getElementById('yearSelect').addEventListener('change', () => {
  document.getElementById('searchInput').value = '';
  renderCalendar();
  renderListView();
});

document.getElementById('searchInput').addEventListener('input', performSearch);

document.getElementById('todayBtn').addEventListener('click', () => {
  const today = new Date();
  document.getElementById('yearSelect').value = today.getFullYear();
  document.getElementById('monthSelect').value = today.getMonth() + 1;
  document.getElementById('searchInput').value = '';
  document.getElementById('calendarView').style.display = 'grid';
  document.getElementById('listView').style.display = 'none';
  document.querySelector('[data-view="calendar"]').classList.add('active');
  document.querySelector('[data-view="list"]').classList.remove('active');
  renderCalendar();
});

document.querySelectorAll('.view-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    
    if (btn.dataset.view === 'calendar') {
      document.getElementById('calendarView').style.display = 'grid';
      document.getElementById('listView').style.display = 'none';
      document.getElementById('searchInput').value = '';
      renderCalendar();
    } else {
      document.getElementById('calendarView').style.display = 'none';
      document.getElementById('listView').style.display = 'block';
      renderListView();
    }
  });
});

document.getElementById('modal').addEventListener('click', (e) => {
  if (e.target === document.getElementById('modal')) {
    closeModal();
  }
});

renderCalendar();
renderListView();
</script>
</body>
</html>
